CREATE TABLE OFFENDER_CSIP_REPORTS (
    CSIP_ID NUMBER(10,0),
    ROOT_OFFENDER_ID NUMBER(10,0) NOT NULL,
    OFFENDER_BOOK_ID NUMBER(10,0) ,
    RFR_INCIDENT_DATE DATE NOT NULL,
    RFR_INCIDENT_TIME DATE,
    RFR_INCIDENT_TYPE VARCHAR2(12) NOT NULL,
    RFR_INCIDENT_LOCATION VARCHAR2(40) NOT NULL,
    RFR_CSIP_FUNCTION VARCHAR2(12) NOT NULL,
    RFR_REPORTED_BY VARCHAR2(240),
    RFR_DATE_REPORTED DATE,
    RFR_COMMENT VARCHAR2(4000),
    RFR_PROACTIVE_RESPONSE VARCHAR2(1) DEFAULT 'N',
    RFR_STAFF_ASSAULTED VARCHAR2(1) DEFAULT 'N',
    RFR_STAFF_NAME VARCHAR2(1000),
    CDR_OUTCOME VARCHAR2(12),
    CDR_OUTCOME_RECORDED_BY VARCHAR2(100),
    CDR_OUTCOME_DATE DATE,
    CDR_OTHER_INFORMATION VARCHAR2(4000),
    CDR_CONCERN_DESCRIPTION VARCHAR2(4000),
    INV_KNOWN_REASONS VARCHAR2(4000),
    INV_PERSONS_TRIGGER VARCHAR2(4000),
    INV_STAFF_INVOLVED VARCHAR2(4000),
    INV_EVIDENCE_SECURED VARCHAR2(4000),
    INV_CONCLUSION VARCHAR2(4000),
    INV_NEXT_STEPS VARCHAR2(4000),
    INV_OUTCOME VARCHAR2(12),
    INV_SIGNED_OFF_BY VARCHAR2(12),
    INV_NAME VARCHAR2(100),
    INV_OUTCOME_RECORDED_BY VARCHAR2(100),
    INV_OUTCOME_DATE DATE,
    INV_NON_ASSOC_UPDATED VARCHAR2(1) DEFAULT 'N',
    INV_OBSERVATION_BOOK VARCHAR2(1) DEFAULT 'N',
    INV_MOVE VARCHAR2(1) DEFAULT 'N',
    INV_REVIEW VARCHAR2(1) DEFAULT 'N',
    INV_SERVICE_REFERRAL VARCHAR2(1) DEFAULT 'N',
    INV_SIM_REFERRAL VARCHAR2(1) DEFAULT 'N',
    INV_OTHER VARCHAR2(4000),
    INV_OCCURRENCE_REASON VARCHAR2(4000),
    INV_USUAL_BEHAVIOUR VARCHAR2(4000),
    INV_PROTECTIVE_FACTORS VARCHAR2(4000),
    CDR_INVOLVEMENT VARCHAR2(12),
    CDR_SENT_DENT VARCHAR2(1) DEFAULT 'N',
    INV_NOMIS_CASE_NOTE VARCHAR2(1) DEFAULT 'N',
    CSIP_SEQ VARCHAR2(10),
    CDR_RELEASE_DATE DATE,
    CREATE_DATETIME TIMESTAMP DEFAULT systimestamp,
    CREATE_USER_ID VARCHAR2(32) DEFAULT USER ,
    MODIFY_DATETIME TIMESTAMP,
    MODIFY_USER_ID VARCHAR2(32),
    AUDIT_TIMESTAMP TIMESTAMP,
    AUDIT_USER_ID VARCHAR2(32),
    AUDIT_MODULE_NAME VARCHAR2(65),
    AUDIT_CLIENT_USER_ID VARCHAR2(64),
    AUDIT_CLIENT_IP_ADDRESS VARCHAR2(39),
    AUDIT_CLIENT_WORKSTATION_NAME VARCHAR2(64),
    AUDIT_ADDITIONAL_INFO VARCHAR2(256),
    CASE_MANAGER VARCHAR2(100),
    REASON VARCHAR2(240),
    AGY_LOC_ID VARCHAR2(6),
    CDR_DECISION_REASON VARCHAR2(4000),
    REFERRAL_COMPLETE_FLAG VARCHAR2(1) DEFAULT 'N',
    REFERRAL_COMPLETED_BY VARCHAR2(32),
    REFERRAL_COMPLETED_DATE DATE,
    OPEN_CSIP_ALERT VARCHAR2(1) DEFAULT 'N',
    CASE_REV_DATE DATE,
    CONSTRAINT OFF_CSIP_REPORTS_PK PRIMARY KEY (CSIP_ID),
    CONSTRAINT OFF_CSIP_REP_OFF_AL_FK FOREIGN KEY (AGY_LOC_ID) REFERENCES AGENCY_LOCATIONS(AGY_LOC_ID),
    CONSTRAINT OFF_CSIP_REP_OFF_BKG FOREIGN KEY (OFFENDER_BOOK_ID) REFERENCES OFFENDER_BOOKINGS(OFFENDER_BOOK_ID)
);
CREATE INDEX OFFENDER_CSIP_REPORTS_IX ON OFFENDER_CSIP_REPORTS (ROOT_OFFENDER_ID);
CREATE INDEX OFFENDER_CSIP_REPORTS_X01 ON OFFENDER_CSIP_REPORTS (AGY_LOC_ID);
CREATE INDEX OFFENDER_CSIP_REPORTS_X02 ON OFFENDER_CSIP_REPORTS (OFFENDER_BOOK_ID);
CREATE UNIQUE INDEX OFF_CSIP_REPORTS_PK ON OFFENDER_CSIP_REPORTS (CSIP_ID);